<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Giftup Pro üöÄ</title>
    <style>
        :root { --blue: #007aff; --green: #34c759; --red: #ff3b30; --bg: #000; --card: #1c1c1e; }
        body { background: var(--bg); color: white; font-family: -apple-system, sans-serif; margin: 0; padding: 0; overflow: hidden; }
        
        /* HEADER */
        .header { padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; background: #000; }
        .balance { background: var(--green); color: black; padding: 6px 15px; border-radius: 20px; font-weight: 800; font-size: 14px; }

        .screen { display: none; height: 100vh; display: flex; flex-direction: column; }
        .screen.active { display: flex; }

        /* –¢–ê–ë –Ü–ö–°–Ü–í (–ì–û–†–ó–û–ù–¢–ê–õ–¨–ù–ò–ô –°–ö–†–û–õ) */
        .history-container { padding: 10px 15px; background: #080808; border-bottom: 1px solid #1a1a1a; }
        .history { display: flex; gap: 8px; overflow-x: auto; scrollbar-width: none; -webkit-overflow-scrolling: touch; }
        .history::-webkit-scrollbar { display: none; }
        .hs-item { background: #1a1a1a; padding: 6px 14px; border-radius: 10px; font-size: 13px; font-weight: bold; color: #888; border: 1px solid #333; white-space: nowrap; flex-shrink: 0; }
        
        .active-tab { background: rgba(0, 122, 255, 0.1); color: var(--blue); border: 1px solid var(--blue); min-width: 60px; text-align: center; }
        .my-win-tab { background: var(--green) !important; color: black !important; border: none !important; font-weight: 900; }

        /* –í–Ü–ó–£–ê–õ –†–ê–ö–ï–¢–ò */
        .viewport { height: 240px; background: #000; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; border-bottom: 1px solid #222; }
        #rocket-v { 
            width: 200px; 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%) scale(0); 
            transition: transform 0.5s ease-out, opacity 0.3s;
        }

        /* –ö–ï–†–£–í–ê–ù–ù–Ø */
        .controls { padding: 15px; background: var(--card); }
        input { width: 100%; background: #000; border: 1px solid #333; padding: 15px; color: white; border-radius: 12px; font-size: 18px; margin-bottom: 10px; box-sizing: border-box; outline: none; text-align: center; }
        .main-btn { width: 100%; padding: 18px; border-radius: 14px; border: none; font-size: 18px; font-weight: 800; color: white; cursor: pointer; text-transform: uppercase; }

        /* –¢–ê–ë –°–¢–ê–í–û–ö (–í–ï–†–¢–ò–ö–ê–õ–¨–ù–ò–ô –°–ö–†–û–õ) */
        .bets-lobby { flex-grow: 1; background: #0a0a0a; overflow-y: auto; padding: 0 15px; border-top: 1px solid #222; -webkit-overflow-scrolling: touch; }
        .bets-header { display: flex; justify-content: space-between; padding: 12px 0; font-size: 11px; color: #444; font-weight: bold; position: sticky; top: 0; background: #0a0a0a; z-index: 5; }
        .bet-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #111; font-size: 13px; }
        .user-col { display: flex; align-items: center; gap: 8px; color: #aaa; }
        .amt-col { color: #eee; font-weight: 600; }
        .win-col { color: var(--green); font-weight: bold; }

        .back-btn { background: #222; border: none; color: #888; padding: 8px 15px; margin: 10px; border-radius: 8px; font-size: 12px; }
    </style>
</head>
<body>

    <div class="header">
        <div style="font-weight: 900;">GIFTUP</div>
        <div class="balance"><span id="bal-val">500.00</span> ‚Ç¥</div>
    </div>

    <div id="rocket-game" class="screen active">
        
        <div class="history-container">
            <div class="history" id="hs-list">
                <div id="live-tab" class="hs-item active-tab">5.0s</div>
                <div class="hs-item">2.41x</div>
                <div class="hs-item">1.05x</div>
                <div class="hs-item">5.50x</div>
                <div class="hs-item">1.20x</div>
            </div>
        </div>

        <div class="viewport">
            <video id="rocket-v" playsinline muted loop>
                <source src="https://files.catbox.moe/d13y9l.mp4" type="video/mp4">
            </video>
        </div>

        <div class="controls">
            <input type="number" id="bet-amt" value="100">
            <button id="action-btn" class="main-btn" style="background: var(--blue);" onclick="doAction()">–°–¢–ê–í–ö–ê</button>
        </div>

        <div class="bets-lobby">
            <div class="bets-header">
                <span>–ì–†–ê–í–ï–¶–¨</span>
                <span>–°–¢–ê–í–ö–ê / –í–ò–ì–†–ê–®</span>
            </div>
            <div id="bets-list">
                </div>
        </div>
    </div>

    <script>
        let balance = 500.00;
        let myBet = 0;
        let mode = "WAIT"; 
        let currentMult = 1.00;
        let timer = 5.0;

        const fakeUsers = ["@dark_lord", "@lucky_girl", "@crypto_king", "@vlad_2024", "@winner_top", "@pro_player", "@rich_man"];

        function updateBal() {
            document.getElementById('bal-val').innerText = balance.toFixed(2);
        }

        function startCycle() {
            mode = "WAIT";
            timer = 5.0;
            myBet = 0;
            
            const tab = document.getElementById('live-tab');
            tab.className = "hs-item active-tab";
            tab.innerText = "5.0s";
            
            document.getElementById('rocket-v').style.transform = "translate(-50%, -50%) scale(0)";
            document.getElementById('rocket-v').style.opacity = "1";

            document.getElementById('action-btn').innerText = "–°–¢–ê–í–ö–ê";
            document.getElementById('action-btn').style.background = "var(--blue)";

            // –û—á–∏—Å—Ç–∏—Ç–∏ –ª–æ–±—ñ —Å—Ç–∞–≤–æ–∫ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥—É
            generateFakeBets();

            let t = setInterval(() => {
                timer -= 0.1;
                tab.innerText = Math.max(0, timer).toFixed(1) + "s";
                if(timer <= 0) {
                    clearInterval(t);
                    launch();
                }
            }, 100);
        }

        function launch() {
            mode = "FLY";
            currentMult = 1.00;
            const tab = document.getElementById('live-tab');
            tab.style.color = "var(--green)";
            tab.style.borderColor = "var(--green)";
            
            document.getElementById('rocket-v').play();
            document.getElementById('rocket-v').style.transform = "translate(-50%, -50%) scale(1.1)";

            let crashPoint = (1.1 + Math.random() * 2.5 + (Math.random() > 0.8 ? 6 : 0)).toFixed(2);

            let fly = setInterval(() => {
                currentMult += 0.01;
                tab.innerText = currentMult.toFixed(2) + "x";
                
                if(currentMult >= crashPoint) {
                    clearInterval(fly);
                    boom(crashPoint);
                }
            }, 50);
        }

        function boom(cp) {
            mode = "CRASH";
            const tab = document.getElementById('live-tab');
            tab.innerText = cp + "x";
            tab.style.color = "var(--red)";
            tab.style.borderColor = "var(--red)";
            document.getElementById('rocket-v').style.opacity = "0";

            if(myBet > 0) {
                document.getElementById('action-btn').innerText = "–ü–†–û–ì–†–ê–®";
                document.getElementById('action-btn').style.background = "var(--red)";
            }

            addToHistory(cp + "x", false);
            setTimeout(startCycle, 3000);
        }

        function doAction() {
            const btn = document.getElementById('action-btn');
            const amt = parseFloat(document.getElementById('bet-amt').value);

            if(mode === "WAIT" && myBet === 0) {
                if(amt > balance) return;
                balance -= amt; myBet = amt;
                updateBal();
                btn.innerText = "–ü–†–ò–ô–ù–Ø–¢–û";
                btn.style.background = "#333";
            } else if(mode === "FLY" && myBet > 0) {
                let win = myBet * currentMult;
                balance += win;
                
                // –¢–≤–æ—è —Å—Ç–∞–≤–∫–∞ –ø–µ—Ä—à–∞ –≤ —Ç–∞–±—ñ —ñ–∫—Å—ñ–≤
                addToHistory(`${currentMult.toFixed(2)}x (+${win.toFixed(0)}‚Ç¥)`, true);
                
                myBet = 0;
                updateBal();
                btn.innerText = "–ó–ê–ë–†–ê–ù–û: " + win.toFixed(0) + "‚Ç¥";
                btn.style.background = "var(--green)";
                btn.style.color = "black";
            }
        }

        function addToHistory(text, isMyWin) {
            const hsList = document.getElementById('hs-list');
            const item = document.createElement('div');
            item.className = isMyWin ? "hs-item my-win-tab" : "hs-item";
            item.innerText = text;
            hsList.insertBefore(item, hsList.children[1]);
            hsList.scrollLeft = 0; // –°–∫—Ä–æ–ª–∏–º–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫, —â–æ–± –±–∞—á–∏—Ç–∏ –Ω–æ–≤–µ
        }

        function generateFakeBets() {
            const list = document.getElementById('bets-list');
            list.innerHTML = "";
            for(let i=0; i<15; i++) {
                const user = fakeUsers[Math.floor(Math.random()*fakeUsers.length)];
                const amt = Math.floor(Math.random()*900) + 10;
                list.innerHTML += `
                    <div class="bet-row">
                        <div class="user-col">üë§ ${user}</div>
                        <div class="amt-col">${amt} ‚Ç¥</div>
                    </div>
                `;
            }
        }

        window.onload = startCycle;
    </script>
</body>
</html>
