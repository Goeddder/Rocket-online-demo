<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Giftup Pro üöÄ</title>
    <style>
        :root { --blue: #007aff; --green: #34c759; --red: #ff3b30; --bg: #000; --card: #111; }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; overflow: hidden; }
        
        /* HEADER */
        .header { padding: 15px; display: flex; justify-content: space-between; border-bottom: 1px solid #222; }
        .balance { background: var(--green); color: #000; padding: 5px 15px; border-radius: 20px; font-weight: bold; }

        /* HISTORY */
        .history { display: flex; gap: 8px; padding: 10px; overflow-x: auto; background: #080808; border-bottom: 1px solid #111; }
        .hs-item { padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: bold; background: #1a1a1a; color: #aaa; }
        .hs-item.high { color: #cc42ff; }

        /* GAME AREA */
        .game-zone { height: 250px; position: relative; background: #000; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .stars { position: absolute; width: 200%; height: 200%; background: url('https://www.transparenttextures.com/patterns/stardust.png'); opacity: 0.3; }
        .rocket { width: 120px; z-index: 5; transition: 0.3s; position: absolute; bottom: 20px; left: 20px; }
        .mult-display { font-size: 60px; font-weight: 900; z-index: 10; text-shadow: 0 0 15px rgba(0,0,0,1); }

        /* PANEL */
        .pnl { padding: 15px; background: #0a0a0a; border-radius: 25px 25px 0 0; border-top: 1px solid #222; }
        input { width: 100%; background: #000; border: 1px solid #333; padding: 15px; color: white; border-radius: 12px; font-size: 18px; box-sizing: border-box; margin-bottom: 10px; }
        .btn { width: 100%; padding: 18px; border-radius: 15px; border: none; font-size: 18px; font-weight: 800; color: white; cursor: pointer; }

        /* LOBBY TABLE */
        .lobby { margin-top: 15px; height: 150px; overflow-y: auto; font-size: 13px; }
        .bet-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #111; color: #888; }
        .win { color: var(--green); font-weight: bold; }
    </style>
</head>
<body>

    <div class="header">
        <span style="font-weight:900">GIFTUP</span>
        <div class="balance"><span id="bal">500.00</span> ‚Ç¥</div>
    </div>

    <div class="history" id="hs">
        <div class="hs-item">1.45x</div>
        <div class="hs-item high">12.03x</div>
        <div class="hs-item">2.10x</div>
    </div>

    <div class="game-zone">
        <div class="stars" id="stars"></div>
        <div id="m-val" class="mult-display">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è...</div>
        <img id="rocket" class="rocket" src="https://files.catbox.moe/6v30h0.png" style="display:none">
    </div>

    <div class="pnl">
        <input type="number" id="amt" value="100">
        <button id="btn" class="btn" style="background:var(--blue)" onclick="handleBet()">–°–¢–ê–í–ö–ê</button>
        
        <div style="margin-top:15px; font-size:12px; color:#444">–ñ–ò–í–Ü –°–¢–ê–í–ö–ò:</div>
        <div class="lobby" id="lobby">
            <div class="bet-row"><span>üë§ @player1</span><span>100 ‚Ç¥</span></div>
            <div class="bet-row"><span>üë§ @lucky_man</span><span>500 ‚Ç¥</span></div>
        </div>
    </div>

    <script>
        let balance = 500.00;
        let currentBet = 0;
        let isFlying = false;
        let multiplier = 1.00;
        let gameLoop;

        function updateBal() {
            document.getElementById('bal').innerText = balance.toFixed(2);
        }

        function handleBet() {
            let btn = document.getElementById('btn');
            let amt = parseFloat(document.getElementById('amt').value);

            if (!isFlying && currentBet === 0) {
                // –°—Ç–∞–≤–∫–∞
                if (amt > balance) return alert("–ù–µ–º–∞—î –≥—Ä–æ—à–µ–π!");
                balance -= amt;
                currentBet = amt;
                btn.innerText = "–û–ß–Ü–ö–£–í–ê–ù–ù–Ø...";
                btn.style.background = "#333";
                updateBal();
                startRound();
            } else if (isFlying && currentBet > 0) {
                // –ó–∞–±—Ä–∞—Ç–∏
                let win = currentBet * multiplier;
                balance += win;
                btn.innerText = "–í–ò–ì–†–ê–®: " + win.toFixed(2);
                btn.style.background = var(--green);
                currentBet = 0;
                updateBal();
            }
        }

        function startRound() {
            if (isFlying) return;
            let mDisplay = document.getElementById('m-val');
            let rocket = document.getElementById('rocket');
            let stars = document.getElementById('stars');
            
            multiplier = 1.00;
            isFlying = true;
            rocket.style.display = "block";
            rocket.style.transform = "translate(0,0)";

            let crashPoint = (Math.random() * 5 + 1).toFixed(2); // –†–∞–Ω–¥–æ–º–Ω–∏–π –≤–∏–ª—ñ—Ç

            gameLoop = setInterval(() => {
                multiplier += 0.01;
                mDisplay.innerText = multiplier.toFixed(2) + "x";
                
                // –†—É—Ö —Ä–∞–∫–µ—Ç–∏ —Ç–∞ —Ñ–æ–Ω—É
                rocket.style.transform = `translate(${multiplier * 10}px, -${multiplier * 15}px)`;
                stars.style.top = (parseFloat(stars.style.top || 0) + 1) + "px";

                if (multiplier >= crashPoint) {
                    clearInterval(gameLoop);
                    endRound(crashPoint);
                }
            }, 50);
        }

        function endRound(cp) {
            isFlying = false;
            currentBet = 0;
            document.getElementById('m-val').innerText = "BOOM!";
            document.getElementById('m-val').style.color = "var(--red)";
            document.getElementById('rocket').style.display = "none";
            
            // –î–æ–¥–∞—î–º–æ –≤ —ñ—Å—Ç–æ—Ä—ñ—é
            let hs = document.getElementById('hs');
            let newItem = document.createElement('div');
            newItem.className = `hs-item ${cp > 5 ? 'high' : ''}`;
            newItem.innerText = cp + "x";
            hs.prepend(newItem);

            setTimeout(() => {
                document.getElementById('m-val').style.color = "white";
                document.getElementById('m-val').innerText = "1.00x";
                document.getElementById('btn').innerText = "–°–¢–ê–í–ö–ê";
                document.getElementById('btn').style.background = "var(--blue)";
            }, 3000);
        }
    </script>
</body>
</html>
