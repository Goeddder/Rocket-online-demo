<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Giftup Online üöÄ</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <style>
        :root { --blue: #007aff; --green: #34c759; --bg: #000; --card: #1c1c1e; }
        body { background: var(--bg); color: white; font-family: -apple-system, sans-serif; margin: 0; padding: 0; }
        .header { padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; background: #000; }
        .balance { background: var(--green); color: black; padding: 6px 15px; border-radius: 20px; font-weight: 800; font-size: 14px; }
        .screen { display: none; padding: 15px; }
        .screen.active { display: block; }
        .user-card { background: var(--card); padding: 15px; border-radius: 15px; display: flex; align-items: center; gap: 12px; margin-bottom: 20px; border: 1px solid #333; }
        .avatar { width: 50px; height: 50px; background: var(--blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 2px solid #333; }
        .game-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .g-item { background: var(--card); border-radius: 15px; overflow: hidden; border: 1px solid #333; cursor: pointer; text-align: center; padding-bottom: 10px; }
        .g-preview { height: 80px; display: flex; align-items: center; justify-content: center; font-size: 30px; background: #222; margin-bottom: 10px; }
        .viewport { height: 200px; background: #050505; border-radius: 20px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; border: 1px solid #222; }
        #rocket-v { width: 140px; position: absolute; bottom: -180px; transition: 0.4s; }
        .mult { font-size: 45px; font-weight: 900; z-index: 10; }
        .controls { background: var(--card); padding: 20px; border-radius: 20px; margin-top: 15px; border: 1px solid #333; }
        input { width: 100%; background: #000; border: 1px solid #333; padding: 15px; color: white; border-radius: 12px; font-size: 18px; margin-bottom: 12px; box-sizing: border-box; }
        .btn { width: 100%; padding: 18px; border-radius: 15px; border: none; font-size: 18px; font-weight: 800; color: white; cursor: pointer; }
        .back { background: none; border: none; color: #888; margin-bottom: 10px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="header">
        <span style="font-weight: 900;">GIFTUP</span>
        <div class="balance"><span id="bal-val">500.00</span> ‚Ç¥</div>
    </div>

    <div id="lobby" class="screen active">
        <div class="user-card">
            <div class="avatar">üë§</div>
            <div>
                <div style="font-weight: bold;">@tg_player</div>
                <div style="font-size: 11px; color: var(--blue);">ID: 55012 ‚Ä¢ VIP</div>
            </div>
        </div>
        <div class="game-grid">
            <div class="g-item" onclick="go('rocket')">
                <div class="g-preview">üöÄ</div>
                <div>ROCKET</div>
            </div>
            <div class="g-item" onclick="go('mines')">
                <div class="g-preview">üíé</div>
                <div>MINES</div>
            </div>
        </div>
        <p id="st" style="text-align:center; font-size:10px; color:#444; margin-top:20px;">üîµ –û–Ω–æ–≤–ª–µ–Ω–æ —Å–∏—Å—Ç–µ–º—É...</p>
    </div>

    <div id="rocket" class="screen">
        <button class="back" onclick="go('lobby')">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="viewport">
            <div id="m-val" class="mult">1.00x</div>
            <video id="rocket-v" playsinline muted loop><source src="https://files.catbox.moe/d13y9l.mp4"></video>
        </div>
        <div class="controls">
            <input type="number" id="amt" value="100">
            <button id="main-btn" class="btn" style="background:var(--blue)" onclick="bet()">–°–¢–ê–í–ö–ê</button>
        </div>
    </div>

    <div id="mines" class="screen">
        <button class="back" onclick="go('lobby')">‚Üê –ù–∞–∑–∞–¥</button>
        <div style="text-align:center; padding:50px;">
            <h1>üíé MINES</h1>
            <p>–ì—Ä–∞ —Å–∫–æ—Ä–æ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞</p>
        </div>
    </div>

    <script>
        const socket = io('https://rocket-online-demo.onrender.com', { transports: ['websocket'] });
        let bal = 500;
        let myBet = 0;
        let state = "WAIT";

        function go(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // –ê–≤—Ç–æ-—ñ–º—ñ—Ç–∞—Ü—ñ—è, —è–∫—â–æ —Å–µ—Ä–≤–µ—Ä –º–æ–≤—á–∏—Ç—å
        setTimeout(() => {
            if (document.getElementById('m-val').innerText === "–ó'—î–¥–Ω–∞–Ω–Ω—è..." || document.getElementById('m-val').innerText === "1.00x") {
                document.getElementById('st').innerText = "üü† –î–µ–º–æ-—Ä–µ–∂–∏–º (–°–µ—Ä–≤–µ—Ä —Å–ø–∏—Ç—å)";
                startFakeGame();
            }
        }, 5000);

        function startFakeGame() {
            setInterval(() => {
                let m = document.getElementById('m-val');
                let v = document.getElementById('rocket-v');
                if (state === "WAIT") {
                    state = "FLY"; v.play(); v.style.transform = "translateY(-250px)";
                } else {
                    state = "WAIT"; v.pause(); v.style.transform = "translateY(0)";
                    m.innerText = "1.00x";
                }
            }, 8000);
        }

        socket.on('gameTick', (data) => {
            document.getElementById('st').innerText = "üü¢ –û–Ω–ª–∞–π–Ω";
            state = data.gameState;
            document.getElementById('m-val').innerText = data.multiplier + "x";
        });

        function bet() {
            let a = +document.getElementById('amt').value;
            if (myBet === 0 && a <= bal) {
                bal -= a; myBet = a;
                document.getElementById('bal-val').innerText = bal.toFixed(2);
                document.getElementById('main-btn').innerText = "–ó–ê–ë–†–ê–¢–ò";
                document.getElementById('main-btn').style.background = "var(--green)";
            } else {
                let m = parseFloat(document.getElementById('m-val').innerText) || 1.5;
                bal += myBet * m; myBet = 0;
                document.getElementById('bal-val').innerText = bal.toFixed(2);
                document.getElementById('main-btn').innerText = "–°–¢–ê–í–ö–ê";
                document.getElementById('main-btn').style.background = "var(--blue)";
            }
        }
    </script>
</body>
</html>
