<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Giftup Lobby üöÄ</title>
    <style>
        :root { --blue: #007aff; --green: #34c759; --red: #ff3b30; --bg: #000; --card: #1c1c1e; }
        body { background: var(--bg); color: white; font-family: -apple-system, sans-serif; margin: 0; padding: 0; }
        
        .header { padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; background: #000; position: sticky; top: 0; z-index: 100; }
        .balance { background: var(--green); color: black; padding: 6px 15px; border-radius: 20px; font-weight: 800; font-size: 14px; }

        /* –ï–ö–†–ê–ù–ò */
        .screen { display: none; min-height: 100vh; animation: fadeIn 0.3s ease; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* –ì–û–õ–û–í–ù–ï –õ–û–ë–Ü (–í–ò–ë–Ü–† –Ü–ì–û–†) */
        .lobby-container { padding: 20px; }
        .user-profile { background: var(--card); padding: 15px; border-radius: 15px; display: flex; align-items: center; gap: 12px; margin-bottom: 25px; border: 1px solid #333; }
        .avatar { width: 45px; height: 45px; background: var(--blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; }
        
        .game-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .game-card { background: var(--card); border-radius: 20px; overflow: hidden; border: 1px solid #333; cursor: pointer; transition: 0.2s; position: relative; }
        .game-card:active { transform: scale(0.95); }
        .game-img { height: 100px; background: #252527; display: flex; align-items: center; justify-content: center; font-size: 40px; }
        .game-name { padding: 12px; text-align: center; font-weight: bold; font-size: 14px; text-transform: uppercase; }
        .badge { position: absolute; top: 10px; right: 10px; background: var(--blue); font-size: 9px; padding: 2px 6px; border-radius: 10px; }

        /* –ï–ö–†–ê–ù –ì–†–ò (–†–ê–ö–ï–¢–ê) */
        .back-btn { background: #222; border: none; color: #888; padding: 10px 15px; border-radius: 12px; margin: 10px; cursor: pointer; font-weight: bold; }
        .history-bar { display: flex; gap: 8px; padding: 10px; overflow-x: auto; background: #080808; border-bottom: 1px solid #1a1a1a; }
        .hs-item { padding: 4px 12px; border-radius: 8px; font-size: 12px; font-weight: bold; background: #1a1a1a; color: #888; border: 1px solid #222; }
        
        .game-view { height: 240px; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #000; overflow: hidden; }
        .multiplier { font-size: 60px; font-weight: 900; z-index: 10; }
        .rocket-obj { width: 100px; position: absolute; bottom: 20px; left: 20px; z-index: 5; transition: 0.1s linear; }

        .controls-pnl { padding: 20px; background: #0a0a0a; border-radius: 25px 25px 0 0; border-top: 1px solid #222; }
        input { width: 100%; background: #000; border: 1px solid #333; padding: 15px; color: white; border-radius: 12px; font-size: 18px; box-sizing: border-box; margin-bottom: 12px; outline: none; }
        .main-btn { width: 100%; padding: 18px; border-radius: 15px; border: none; font-size: 18px; font-weight: 800; color: white; cursor: pointer; }

        .live-bets { margin-top: 15px; height: 120px; overflow-y: auto; font-size: 13px; color: #555; }
        .bet-row { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px solid #111; }
    </style>
</head>
<body>

    <div class="header">
        <div style="font-weight: 900; letter-spacing: 1px;">GIFTUP</div>
        <div class="balance"><span id="bal-txt">500.00</span> ‚Ç¥</div>
    </div>

    <div id="lobby-screen" class="screen active">
        <div class="lobby-container">
            <div class="user-profile">
                <div class="avatar">üë§</div>
                <div>
                    <div style="font-weight: bold;">@tg_player</div>
                    <div style="font-size: 11px; color: var(--blue);">ID: 55012 ‚Ä¢ VIP PLAYER</div>
                </div>
            </div>

            <h3 style="margin-bottom: 15px; font-size: 18px;">–í—Å—ñ —ñ–≥—Ä–∏</h3>
            <div class="game-grid">
                <div class="game-card" onclick="openGame('rocket-screen')">
                    <div class="badge">ONLINE</div>
                    <div class="game-img">üöÄ</div>
                    <div class="game-name">Rocket Online</div>
                </div>
                <div class="game-card" onclick="openGame('mines-screen')">
                    <div class="game-img" style="filter: grayscale(1);">üíé</div>
                    <div class="game-name" style="color: #555;">Mines (Soon)</div>
                </div>
            </div>
        </div>
    </div>

    <div id="rocket-screen" class="screen">
        <button class="back-btn" onclick="openGame('lobby-screen')">‚Üê –î–æ –≤–∏–±–æ—Ä—É —ñ–≥–æ—Ä</button>
        
        <div class="history-bar" id="hs-bar">
            <div class="hs-item">1.50x</div>
            <div class="hs-item">2.10x</div>
        </div>

        <div class="game-view">
            <div id="status-label" style="font-size:12px; color:var(--blue); font-weight:bold; margin-bottom:5px;">–ß–ï–ö–ê–Ñ–ú–û –°–¢–ê–í–ö–ò</div>
            <div id="mult-txt" class="multiplier">5.0s</div>
            <img id="rocket-img" class="rocket-obj" src="https://files.catbox.moe/6v30h0.png" style="display:none;">
        </div>

        <div class="controls-pnl">
            <input type="number" id="bet-input" value="100">
            <button id="bet-btn" class="main-btn" style="background: var(--blue);" onclick="makeBet()">–°–¢–ê–í–ö–ê</button>
            
            <div class="live-bets">
                <div class="bet-row"><span>üë§ @user_top</span><span>200 ‚Ç¥</span></div>
                <div class="bet-row"><span>üë§ @luck_88</span><span>50 ‚Ç¥</span></div>
            </div>
        </div>
    </div>

    <div id="mines-screen" class="screen">
        <button class="back-btn" onclick="openGame('lobby-screen')">‚Üê –ù–∞–∑–∞–¥</button>
        <div style="text-align:center; margin-top:100px;">
            <span style="font-size:60px;">üíé</span>
            <h2>MINES —Å–∫–æ—Ä–æ!</h2>
        </div>
    </div>

    <script>
        let balance = 500.00;
        let myBet = 0;
        let gameMode = "WAITING";
        let mult = 1.00;
        let timer = 5.0;

        function openGame(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // –õ–æ–≥—ñ–∫–∞ —Ü–∏–∫–ª—É –†–∞–∫–µ—Ç–∏ (–ø—Ä–∞—Ü—é—î –∑–∞–≤–∂–¥–∏ —É —Ñ–æ–Ω—ñ)
        function gameCycle() {
            gameMode = "WAITING";
            timer = 5.0;
            myBet = 0;
            
            document.getElementById('status-label').innerText = "–ß–ï–ö–ê–Ñ–ú–û –°–¢–ê–í–ö–ò";
            document.getElementById('status-label').style.color = "var(--blue)";
            document.getElementById('mult-txt').style.color = "white";
            document.getElementById('rocket-img').style.display = "none";
            document.getElementById('bet-btn').innerText = "–°–¢–ê–í–ö–ê";
            document.getElementById('bet-btn').style.background = "var(--blue)";

            let wait = setInterval(() => {
                timer -= 0.1;
                document.getElementById('mult-txt').innerText = Math.max(0, timer).toFixed(1) + "s";
                if(timer <= 0) {
                    clearInterval(wait);
                    startFly();
                }
            }, 100);
        }

        function startFly() {
            gameMode = "FLYING";
            mult = 1.00;
            document.getElementById('status-label').innerText = "–†–ê–ö–ï–¢–ê –õ–ï–¢–ò–¢–¨";
            document.getElementById('status-label').style.color = "var(--green)";
            const img = document.getElementById('rocket-img');
            img.style.display = "block";
            img.style.transform = "translate(0,0)";

            let crash = (1 + Math.random() * 2.5 + (Math.random() > 0.8 ? 5 : 0)).toFixed(2);

            let flyLoop = setInterval(() => {
                mult += 0.01;
                document.getElementById('mult-txt').innerText = mult.toFixed(2) + "x";
                
                let x = (mult - 1) * 30;
                let y = (mult - 1) * 45;
                img.style.transform = `translate(${x}px, -${y}px)`;

                if(mult >= crash) {
                    clearInterval(flyLoop);
                    finish(crash);
                }
            }, 50);
        }

        function finish(cp) {
            gameMode = "CRASH";
            document.getElementById('status-label').innerText = "–í–ò–ë–£–•!";
            document.getElementById('status-label').style.color = "var(--red)";
            document.getElementById('mult-txt').innerText = cp + "x";
            document.getElementById('mult-txt').style.color = "var(--red)";
            document.getElementById('rocket-img').style.display = "none";

            if(myBet > 0) {
                document.getElementById('bet-btn').innerText = "–ü–†–û–ì–†–ê–®";
                document.getElementById('bet-btn').style.background = "var(--red)";
            }

            // –î–æ–¥–∞—Ç–∏ –≤ —ñ—Å—Ç–æ—Ä—ñ—é
            const bar = document.getElementById('hs-bar');
            const d = document.createElement('div');
            d.className = "hs-item";
            d.innerText = cp + "x";
            bar.prepend(d);

            setTimeout(gameCycle, 3000);
        }

        function makeBet() {
            const btn = document.getElementById('bet-btn');
            const val = parseFloat(document.getElementById('bet-input').value);
            if(gameMode === "WAITING" && myBet === 0) {
                if(val > balance) return;
                balance -= val; myBet = val;
                document.getElementById('bal-txt').innerText = balance.toFixed(2);
                btn.innerText = "–°–¢–ê–í–ö–ê –ü–†–ò–ô–ù–Ø–¢–ê";
                btn.style.background = "#333";
            } else if(gameMode === "FLYING" && myBet > 0) {
                let win = myBet * mult;
                balance += win; myBet = 0;
                document.getElementById('bal-txt').innerText = balance.toFixed(2);
                btn.innerText = "–ó–ê–ë–†–ê–ù–û: " + win.toFixed(2);
                btn.style.background = "var(--green)";
            }
        }

        gameCycle();
    </script>
</body>
</html>
