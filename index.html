<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Giftup Galaxy üöÄ</title>
    <style>
        :root { --blue: #007aff; --green: #34c759; --red: #ff3b30; --bg: #000; --card: #1c1c1e; }
        
        /* –ö–û–°–ú–Ü–ß–ù–ò–ô –§–û–ù */
        body { 
            background: var(--bg); 
            color: white; 
            font-family: -apple-system, sans-serif; 
            margin: 0; padding: 0; 
            overflow: hidden; 
            height: 100vh;
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 40px);
            background-size: 550px 550px, 350px 350px, 250px 250px;
            animation: stars-move 100s linear infinite;
        }

        @keyframes stars-move {
            from { background-position: 0 0; }
            to { background-position: 1000px 1000px; }
        }

        .header { padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; background: rgba(0,0,0,0.8); height: 50px; box-sizing: border-box; backdrop-filter: blur(10px); }
        .balance { background: var(--green); color: black; padding: 5px 12px; border-radius: 20px; font-weight: 800; font-size: 13px; box-shadow: 0 0 15px rgba(52, 199, 89, 0.4); }

        .screen { display: none; height: calc(100vh - 50px); flex-direction: column; }
        .screen.active { display: flex; }

        /* –ü–†–û–§–Ü–õ–¨ –¢–ê –õ–û–ë–ë–Ü */
        .profile-card { background: rgba(28, 28, 30, 0.9); border-radius: 20px; padding: 15px; border: 1px solid #333; display: flex; align-items: center; gap: 12px; margin: 20px; backdrop-filter: blur(5px); }
        .avatar { width: 45px; height: 45px; border-radius: 50%; background: linear-gradient(45deg, var(--blue), #5856d6); display: flex; align-items: center; justify-content: center; font-size: 22px; }

        .game-card { background: rgba(28, 28, 30, 0.8); border-radius: 25px; padding: 30px; border: 1px solid #444; text-align: center; cursor: pointer; transition: 0.2s; margin: 0 20px; }
        .game-card:active { transform: scale(0.97); }
        .game-card h2 { margin: 10px 0 2px 0; font-size: 22px; }
        .online-status { color: var(--green); font-size: 13px; font-weight: bold; text-transform: uppercase; }

        /* –ì–†–ê –†–ê–ö–ï–¢–ê */
        .history-section { padding: 10px 5px; background: rgba(0,0,0,0.5); border-bottom: 1px solid #1a1a1a; flex-shrink: 0; }
        .history-list { display: flex; gap: 8px; overflow-x: auto; scrollbar-width: none; padding: 0 10px; }
        .hs-item { background: #1a1a1a; padding: 6px 12px; border-radius: 8px; font-size: 13px; font-weight: bold; color: #aaa; border: 1px solid #333; }
        .active-tab { background: rgba(0, 122, 255, 0.2); color: var(--blue); border: 1px solid var(--blue); min-width: 60px; text-align: center; }

        .game-viewport { flex-grow: 1; position: relative; display: flex; align-items: center; justify-content: center; }
        #rocket-v { width: 210px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); filter: drop-shadow(0 0 20px rgba(0, 122, 255, 0.5)); }

        .controls { padding: 15px; background: rgba(10, 10, 10, 0.9); border-top: 1px solid #222; flex-shrink: 0; }
        input { width: 100%; background: #000; border: 1px solid #444; padding: 15px; color: white; border-radius: 12px; font-size: 18px; text-align: center; margin-bottom: 10px; outline: none; }
        .main-btn { width: 100%; padding: 18px; border-radius: 14px; border: none; font-size: 18px; font-weight: 900; color: white; text-transform: uppercase; }

        .bets-menu { height: 130px; background: rgba(28, 28, 30, 0.9); border-top: 1px solid #333; display: flex; flex-direction: column; }
        .bets-title { padding: 8px 15px; font-size: 10px; color: #777; font-weight: bold; border-bottom: 1px solid #222; }
        .bet-row { display: flex; justify-content: space-between; padding: 12px 15px; border-bottom: 1px solid #222; font-size: 13px; }

        /* –ù–ò–ñ–ß–ê –ö–ù–û–ü–ö–ê –í–ò–ô–¢–ò */
        .back-btn { margin-top: 15px; margin-left: 15px; background: rgba(255,255,255,0.1); border: 1px solid #444; color: #fff; padding: 8px 16px; border-radius: 10px; font-size: 12px; width: fit-content; cursor: pointer; }
    </style>
</head>
<body>

    <div class="header">
        <div style="font-weight: 900; font-size: 20px;">GIFTUP</div>
        <div class="balance"><span id="bal-val">500.00</span> ‚Ç¥</div>
    </div>

    <div id="lobby-screen" class="screen active">
        <div class="profile-card">
            <div class="avatar">üë®‚ÄçüöÄ</div>
            <div style="flex-grow:1">
                <span class="user-name">@tg_player</span>
                <span class="user-id">ID: 88291044 ‚Ä¢ –í–ï–†–ò–§–Ü–ö–û–í–ê–ù–û</span>
            </div>
        </div>

        <div class="game-card" onclick="openGame('rocket-screen')">
            <span style="font-size: 55px; display: block; filter: drop-shadow(0 0 10px var(--blue));">üöÄ</span>
            <h2>ROCKET ONLINE</h2>
            <div class="online-status">‚Ä¢ Online</div>
        </div>
    </div>

    <div id="rocket-screen" class="screen">
        <div class="history-section">
            <div class="history-list" id="hs-list">
                <div id="live-tab" class="hs-item active-tab">5.0s</div>
            </div>
        </div>

        <button class="back-btn" onclick="openGame('lobby-screen')">‚Üê –í–ò–ô–¢–ò –ó –ì–†–ò</button>
        
        <div class="game-viewport">
            <video id="rocket-v" playsinline muted loop>
                <source src="https://files.catbox.moe/d13y9l.mp4" type="video/mp4">
            </video>
        </div>

        <div class="controls">
            <input type="number" id="bet-amt" value="100">
            <button id="action-btn" class="main-btn" style="background: var(--blue);" onclick="doAction()">–°–¢–ê–í–ö–ê</button>
        </div>

        <div class="bets-menu">
            <div class="bets-title">–ü–û–¢–û–ß–ù–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢</div>
            <div class="bets-scroll" id="current-bet-list"></div>
        </div>
    </div>

    <script>
        let balance = parseFloat(localStorage.getItem('giftup_bal')) || 500.00;
        let myBet = 0;
        let mode = "WAIT"; 
        let currentMult = 1.00;
        let timer = 5.0;

        function updateBal() {
            document.getElementById('bal-val').innerText = balance.toFixed(2);
            localStorage.setItem('giftup_bal', balance);
        }

        function openGame(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'rocket-screen') startCycle();
        }

        function startCycle() {
            mode = "WAIT"; timer = 5.0; myBet = 0;
            document.getElementById('current-bet-list').innerHTML = "";
            const tab = document.getElementById('live-tab');
            tab.className = "hs-item active-tab";
            tab.innerText = "5.0s"; tab.style.color = "var(--blue)";
            
            const v = document.getElementById('rocket-v');
            v.pause(); v.currentTime = 0;
            v.style.transform = "translate(-50%, -50%) scale(0)";
            v.style.opacity = "1";

            document.getElementById('action-btn').innerText = "–°–¢–ê–í–ö–ê";
            document.getElementById('action-btn').style.background = "var(--blue)";

            let t = setInterval(() => {
                timer -= 0.1;
                tab.innerText = Math.max(0, timer).toFixed(1) + "s";
                if(timer <= 0) { clearInterval(t); launch(); }
            }, 100);
        }

        function launch() {
            mode = "FLY"; currentMult = 1.00;
            const tab = document.getElementById('live-tab');
            tab.style.color = "var(--green)";
            const v = document.getElementById('rocket-v');
            v.play(); v.style.transform = "translate(-50%, -50%) scale(1.1)";

            let crashPoint = (1.05 + Math.random() * 3.5).toFixed(2);
            let fly = setInterval(() => {
                currentMult += 0.01;
                tab.innerText = currentMult.toFixed(2) + "x";
                if(myBet > 0) {
                    const row = document.getElementById('bet-row-live');
                    if(row) row.innerText = currentMult.toFixed(2) + "x";
                }
                if(currentMult >= crashPoint) { clearInterval(fly); boom(crashPoint); }
            }, 50);
        }

        function boom(cp) {
            mode = "CRASH";
            document.getElementById('live-tab').innerText = cp + "x";
            document.getElementById('live-tab').style.color = "var(--red)";
            document.getElementById('rocket-v').style.opacity = "0";

            if(myBet > 0) {
                document.getElementById('action-btn').innerText = "–ö–†–ê–®";
                document.getElementById('action-btn').style.background = "var(--red)";
                document.getElementById('bet-row-live').innerText = "0.00 ‚Ç¥";
                document.getElementById('bet-row-live').style.color = "var(--red)";
            }

            const hsList = document.getElementById('hs-list');
            const item = document.createElement('div');
            item.className = "hs-item"; item.innerText = cp + "x";
            hsList.insertBefore(item, hsList.children[1]);
            setTimeout(startCycle, 2500);
        }

        function doAction() {
            const btn = document.getElementById('action-btn');
            const amt = parseFloat(document.getElementById('bet-amt').value);

            if(mode === "WAIT" && myBet === 0) {
                if(amt > balance || amt <= 0) return;
                balance -= amt; myBet = amt; updateBal();
                document.getElementById('current-bet-list').innerHTML = `
                    <div class="bet-row">
                        <span>üí∞ ${amt} ‚Ç¥</span>
                        <span id="bet-row-live" style="font-weight:bold; color:var(--blue)">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è</span>
                    </div>`;
                btn.innerText = "–£ –ì–†–Ü"; btn.style.background = "#333";
            } else if(mode === "FLY" && myBet > 0) {
                let win = myBet * currentMult;
                balance += win; updateBal();
                document.getElementById('bet-row-live').innerHTML = `<span style="color:var(--green)">+${win.toFixed(0)} ‚Ç¥ (${currentMult.toFixed(2)}x)</span>`;
                myBet = 0;
                btn.innerText = "WIN: " + win.toFixed(0);
                btn.style.background = "var(--green)"; btn.style.color = "black";
            }
        }

        updateBal();
    </script>
</body>
</html>
